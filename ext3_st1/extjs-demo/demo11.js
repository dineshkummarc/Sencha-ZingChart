Ext.onReady(function() {
	zingchart.liburl = '../zingchart_trial/zingchart.swf';
	ExtX.ZingChart.output = "svg";

	var json = {
		"gui" : {
			"pageScroll" : false
		},
	    "graphset" : [
	        {
	            "type": "area",
	            "labels": [
	                {
	                    "id": 81,
	                    "hook": "scale:name=scale-x-2,value=1303256940000",
	                    "text": "A",
	                    "class": "lbl"
	                },
	                {
	                    "id": 82,
	                    "hook": "scale:name=scale-x-2,value=1303256580000",
	                    "text": "B",
	                    "class": "lbl"
	                },
	                {
	                    "id": 83,
	                    "hook": "scale:name=scale-x-2,value=1303256340000",
	                    "text": "C",
	                    "class": "lbl"
	                }
	            ],
	            "plotarea" : {
	            },
	            "scale-x": {
	                "values": [
	                    1303254060000,
	                    1303254120000,
	                    1303254180000,
	                    1303254240000,
	                    1303254300000,
	                    1303254360000,
	                    1303254420000,
	                    1303254480000,
	                    1303254540000,
	                    1303254600000,
	                    1303254660000,
	                    1303254720000,
	                    1303254780000,
	                    1303254840000,
	                    1303254900000,
	                    1303254960000,
	                    1303255020000,
	                    1303255080000,
	                    1303255140000,
	                    1303255200000,
	                    1303255260000,
	                    1303255320000,
	                    1303255380000,
	                    1303255440000,
	                    1303255500000,
	                    1303255560000,
	                    1303255620000,
	                    1303255680000,
	                    1303255740000,
	                    1303255800000,
	                    1303255860000,
	                    1303255920000,
	                    1303255980000,
	                    1303256040000,
	                    1303256100000,
	                    1303256160000,
	                    1303256220000,
	                    1303256280000,
	                    1303256340000,
	                    1303256400000,
	                    1303256460000,
	                    1303256520000,
	                    1303256580000,
	                    1303256640000,
	                    1303256700000,
	                    1303256760000,
	                    1303256820000,
	                    1303256880000,
	                    1303256940000,
	                    1303257000000,
	                    1303257060000,
	                    1303257120000,
	                    1303257180000,
	                    1303257240000,
	                    1303257300000,
	                    1303257360000,
	                    1303257420000,
	                    1303257480000,
	                    1303257540000,
	                    1303257600000
	                ],
	                "visible": true,
	                "maxLabels": 10,
	                "step": 6,
	                "zooming": 0,
	                "transform": {
	                	type : 'date'
	                }
	            },
	            "scale-x-2": {
	                "values": [
	                    1303254060000,
	                    1303254120000,
	                    1303254180000,
	                    1303254240000,
	                    1303254300000,
	                    1303254360000,
	                    1303254420000,
	                    1303254480000,
	                    1303254540000,
	                    1303254600000,
	                    1303254660000,
	                    1303254720000,
	                    1303254780000,
	                    1303254840000,
	                    1303254900000,
	                    1303254960000,
	                    1303255020000,
	                    1303255080000,
	                    1303255140000,
	                    1303255200000,
	                    1303255260000,
	                    1303255320000,
	                    1303255380000,
	                    1303255440000,
	                    1303255500000,
	                    1303255560000,
	                    1303255620000,
	                    1303255680000,
	                    1303255740000,
	                    1303255800000,
	                    1303255860000,
	                    1303255920000,
	                    1303255980000,
	                    1303256040000,
	                    1303256100000,
	                    1303256160000,
	                    1303256220000,
	                    1303256280000,
	                    1303256340000,
	                    1303256400000,
	                    1303256460000,
	                    1303256520000,
	                    1303256580000,
	                    1303256640000,
	                    1303256700000,
	                    1303256760000,
	                    1303256820000,
	                    1303256880000,
	                    1303256940000,
	                    1303257000000,
	                    1303257060000,
	                    1303257120000,
	                    1303257180000,
	                    1303257240000,
	                    1303257300000,
	                    1303257360000,
	                    1303257420000,
	                    1303257480000,
	                    1303257540000,
	                    1303257600000
	                ],
	                "visible": true,
	                "maxLabels": 10,
	                "step": 6,
	                "zooming": 0,
	                "transform": {
	                	type : 'date'
	                }
	            },
	            "zoom" : {
	            	"preserve-zoom" : true
	            },
	            "scale-y": {
	                "visible": true,
	                "maxLabels": 7,
	                "zooming": false,
	                "transform": {
	                }
	            },
	            "series": [
	                {
	                    "values": [
	                        279.0,
	                        949.0,
	                        812.0,
	                        580.0,
	                        26.0,
	                        970.0,
	                        30.0,
	                        266.0,
	                        781.0,
	                        107.0,
	                        964.0,
	                        6.0,
	                        369.0,
	                        762.0,
	                        238.0,
	                        436.0,
	                        513.0,
	                        273.0,
	                        492.0,
	                        397.0,
	                        899.0,
	                        23.0,
	                        986.0,
	                        412.0,
	                        897.0,
	                        811.0,
	                        157.0,
	                        132.0,
	                        837.0,
	                        211.0,
	                        656.0,
	                        92.0,
	                        5.0,
	                        877.0,
	                        663.0,
	                        386.0,
	                        777.0,
	                        40.0,
	                        498.0,
	                        95.0,
	                        542.0,
	                        650.0,
	                        833.0,
	                        574.0,
	                        324.0,
	                        894.0,
	                        22.0,
	                        946.0,
	                        273.0,
	                        63.0,
	                        344.0,
	                        396.0,
	                        419.0,
	                        987.0,
	                        192.0,
	                        117.0,
	                        366.0,
	                        null,
	                        null,
	                        134.0
	                    ],
	                    "text": "Services-Logins"
	                }
	            ],
	            "widgetId": 11,
	            "caption": {
	                "text": null
	            },
	            "busnIndicatorId": 5,
	            "crosshair-x": {
					"value-label" : {
						"text" : "Some text for a larger guide: %v"
					}
	            },
	            "preview": {
	            }
	        }
	    ]
	};

	var chart = new ExtX.ZingChart.Panel({
		title: 'Chart',
		width: 'auto',
		height: 300,
		defaultsurl : 'demo11.txt',
		renderTo: 'panel1',
		data: json
	});

	chart.on('load', function() {
		for (var i=1;i<4;i++) {
			new ExtX.ZingChart.Panel({
				title: 'Chart',
				width: 'auto',
				height: 300,
				defaultsurl : 'demo11.txt',
				renderTo: 'panel' + (i+1),
				data: json
			});
		}
	})

	new Ext.Button({
		renderTo: 'button',
		text: 'Click to open window',
		handler: function() {
			var dialog = new Ext.Window({
				title: 'Chart in a window',
				modal: true,
				width: 640,
				height: 480,
				resizable: true,
				maximizable: true,
				closable: true,
				layout: 'fit',
				items: [
					new ExtX.ZingChart.Panel({
						data: json,
						defaultsurl : 'demo11.txt'
					})
				],
				buttonAlign: 'center',
				buttons: [
					{
						text: 'Close',
						handler: function() {
							dialog.close();
						}
					}
				]
			});
			dialog.show();
		}
	})
});
